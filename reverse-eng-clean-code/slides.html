<!DOCTYPE html><html lang="en" class="aspect-4-3"><head><meta charset="UTF-8"><meta name="generator" content="Asciidoctor 0.1.4, dzslides backend"><title>Reverse engineering the clean code</title><meta name="author" content="Jakub Marchwicki"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,700,200,300&amp;family=Cedarville+Cursive"><link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css"><link rel="stylesheet" href="./dzslides/themes/highlight/monokai.css"><link rel="stylesheet" href="./dzslides/themes/style/stormy-jm.css"><style>section:not(.topic) > h2 { display: none;}</style><link rel="stylesheet" href="./dzslides/core/dzslides.css"><link rel="stylesheet" href="./dzslides/themes/transition/fade.css"></head><body><section class="title"><h1>Reverse engineering the clean code</h1><footer><span class="author">Jakub Marchwicki</span><span class="divider">&nbsp;&middot;&nbsp;</span><span class="author">@kubem</span></footer></section><section><img src="images/05-comments.png" alt="05 comments" width="500">
<details><details open=""><ul><li>I&#8217;d like to tell you a story how I went the path of craftmanship<ul><li>How I went beyond my daily job</li></ul></li><li>Reverse engineering the clean code<ul><li>Not in a way you turn a <em>class</em> file into <em>java</em> file</li><li>In a way Mitnick reversed security through it&#8217;s social aspects</li></ul></li><li>Back in 2008 I was laying down code, best I could - like most people did.</li><li>There better and worse examples. I did was constatly improving.<ul><li>At least that&#8217;s what I tought when I looked back my old code</li></ul></li></ul></details></details></section>
<section><img src="images/06-comments-woohoo.png" alt="06 comments woohoo" width="573">
<details><details open=""><ul><li>one day I realized there can and must be a beaty in code<ul><li>prolly when I first time compared Calendar API and JodaTime</li><li>or looked up Guava (called Google Collections at that time)</li></ul></li></ul></details></details></section>
<section><img class="frame" src="images/07-wtfs.jpg" alt="07 wtfs">
<details><details open=""><ul><li>Jest na przyklad jedna uniwersalna miara<ul><li>ale skąd wiemy że pojawiają się takie WTF.</li></ul></li><li>I dlaczego wszyscy mają takie WTFy – niezależnie od języka, doświadczenia.</li><li>I think I can always smell the crappy code.</li></ul></details></details></section>
<section class="topic"><h2>Complex vs complicated</h2><dl class="incremental"><dt>Simple to read, learn and understand</dt><dd>How easy it’s for novice programmer to maintain a significant program</dd><dt>Make stuff simple but not simplistic</dt></dl>
<details><details open=""><ul><li>complex vs complicated – w kontekście języków programowania.</li><li>verbosity Javy vs. Groovy, frameworkach: nie pisz nowego – jednen już jest.<ul><li>ESB wygląda prosto na diagramach.</li></ul></li><li>Mythical man-month. Inherent and accidental complexity</li></ul></details></details></section>
<section><figure><img class="frame" src="images/08-books.png" alt="08 books"><figcaption>TODO::: Single source of truth</figcaption></figure>
<details><details open=""><ul><li>Trafiłem na kilka książek. Kto nie zna?</li><li>Bo jak nie zna – to reszta prezentacji może być trudna do przełknięcie ;-)</li></ul></details></details></section>
<section><figure><img class="frame" src="images/10-uncle-bob.jpg" alt="10 uncle bob"><figcaption>I found Uncle Bob</figcaption></figure>
<details><details open=""><ul><li>Now when I think about it, it was definatelly master - apprentice relation</li><li>The rules. <strong>The dogmna</strong>. Variables. Names. Comments</li><li>I realized my craft was improving<ul><li>I felt like I had this rules tatoos at my arm</li></ul></li><li>But yet another realization came<ul><li>Do I do this to keep the code maintanable, easier to change</li><li>I kept focus beter</li></ul></li><li>My team mates are more eager to change my code</li><li>I realized clean code wasn&#8217;t on it&#8217;s own. It was a result. <strong>Not the cause</strong></li></ul></details></details></section>
<section class="topic"><h2>Uncle Bob&#8217;s Basics</h2><ul><li>Name variables in such and such way</li></ul></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="java">public static String parse_pliterki(String old_s) {
  StringBuffer old_sb = new StringBuffer(old_s);
  String new_s = "";
  for(int i=0;i&lt;old_sb.length();i++) {
    if((int)old_sb.charAt(i)==260)
      old_sb.replace(i,i+1,"&amp;#260;");
    if((int)old_sb.charAt(i)==261)
      old_sb.replace(i,i+1,"&amp;#261;");
    //...
  }
  new_s += old_sb.toString();
  return new_s;
}</code></pre></div></section>
<section class="topic"><h2>Uncle Bob&#8217;s Basics</h2><ul><li>Name variables in such and such way</li><li>Use comments when suitable and valuable</li></ul></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="java">/*
 * This class represents Customer
 */
public class Customer {

  /*
   * The customer's name
   */
  private String name;

  //....
}</code></pre></div></section>
<section class="topic"><h2>Uncle Bob&#8217;s Basics</h2><ul><li>Name variables in such and such way</li><li>Use comments when suitable and valuable</li><li>Split functions, decompose</li></ul></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="csharp">class Student
{
    private string name;
    private int knowledge;
    private Func&lt;Course, bool&gt; preferences;
    private int experience;

    public void Study()
    {
        knowledge++;
    }

    public void Enlist(IEnumerable&lt;Course&gt; courses)
    {
        // Select appropriate courses and enlist
        foreach (var course in courses.Where(preferences))
            course.Enlist(name);
    }

    public void Work()
    {
        experience++;
    }
}</code></pre></div></section>
<section class="topic"><h2>Uncle Bob&#8217;s Basics</h2><ul><li>Name variables in such and such way</li><li>Use comments when suitable and valuable</li><li>Split functions, decompose</li><li>Use abstractions, symmetry, law of Demeter</li></ul></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="java">TextView v = (TextView)
 ((RelativeLayout)
  ((AbsoluteLayout)
   ((LinearLayout)
    ((RelativeLayout)(
     (LinearLayout)activty.findViewById(R.id.container)).getChildAt(1))
    .getChildAt(0))
   .getChildAt(element))
  .getChildAt(0))
 .getChildAt(0);</code></pre></div></section>
<section class="topic"><h2>Uncle Bob&#8217;s Basics</h2><ul><li>Name variables in such and such way</li><li>Use comments when suitable and valuable</li><li>Split functions, decompose</li><li>Use abstractions, symmetry, law of Demeter</li><li>Test, test, test. Red - green - …</li></ul></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="java">@Test
public class ExampleTest {
  public void testExample() {
    assertTrue(true);
  }
}</code></pre></div></section>
<section><figure><img class="frame" src="images/15-like-a-boss.jpg" alt="15 like a boss"><figcaption>The SOLID programmer</figcaption></figure>
<details><details open=""><ul><li>Now I know where it&#8217;s comming all from</li><li>You can feel like a boss. Sometimes being a bit superior and dicky</li><li>That might be how you feel when you get all that<ul><li>Or you can dig harder and deeper</li><li>Look for some other inspirations. Go beyond beauty in code, cause it&#8217;s not about beauty</li></ul></li><li>SOLID definition</li><li>Ale to wszystko zbyt wcześnie</li></ul></details></details></section>
<section><figure><img class="frame" src="images/11-kent-beck.jpg" alt="11 kent beck"><figcaption>The Sourcerer</figcaption></figure>
<details><details open=""><ul><li>That way I got to Kent Beck</li><li>The clean code was the effect. The cause was somewhere else<ul><li>I know Uncle Bob was ranting about implementation patterns in clean code book. <strong>I don&#8217;t care</strong></li></ul></li><li>Kent has given this different perspective on what was important<ul><li>what the implementation was really about</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Values</h2><ul class="incremental"><li>Code is the communication&#8217;s foundation</li><li>We are one team, team as a whole<ul><li>My shortcuts are not smb&#8217;s else problem</li><li>Whole team&#8217;s problem</li></ul></li><li>Code is read more often then written</li><li>Spend more time maintaining than creating</li></ul></section>
<section class="topic"><h2>Implementation patterns</h2><dl class="incremental"><dt>Communication</dt><dd>Read code like a prose</dd><dt>Simplicity</dt><dd>Be aware of complexity and add when essential</dd><dt>Local consequences</dt><dd>Data and behaviour together</dd></dl></section>
<section class="topic"><h2>Implementation patterns</h2><dl class="incremental"><dt>DRY</dt><dd>minimize repetition</dd><dt>Symmetry</dt><dd>Keep the same level of abstraction</dd></dl></section>
<section><blockquote class="small quote"><p>Clean code is simple and direct. Clean code reads like well-written prose. Clean code never obscures the designers’ intent but rather is full of crisp abstractions and straightforward lines of control.</p><em>Object-Oriented Analysis and Design with Applications</em><br><cite>Grady Booch</cite></blockquote></section>
<section><figure><img class="frame" src="images/12-loctus.jpg" alt="12 loctus"><figcaption>The Borg</figcaption></figure></section>
<section><figure><img class="frame" src="images/19-on.jpg" alt="19 on"><figcaption>prettiness</figcaption></figure></section>
<section><figure><img class="frame" src="images/19-krzeslo.jpg" alt="19 krzeslo"><figcaption>aesthetics</figcaption></figure></section>
<section><figure><img class="frame" src="images/19-syrena.jpg" alt="19 syrena"><figcaption>design</figcaption></figure>
<details><details open=""><ul><li>Each of these make you feel different emotions<ul><li>Though all wakes a sense of beauty in you. Because all of those where neatly designed.</li></ul></li><li>It&#8217;s all about what we feel,what happends within our mind when we see such objectes</li><li>Same can happen when working with beautiful code<ul><li>I&#8217;ll get there</li></ul></li></ul></details></details></section>
<section><blockquote><p>For library designers,<br>
the API <strong>is</strong> the UI.</p><em>#JFokus (4   February 2014)</em><br><cite>Trisha Gee (@trisha_gee)</cite></blockquote>
<details><details open=""><ul><li>Trisha projektowała API do MongoDB, ja Javy  - ale nie tylko</li></ul></details></details></section>
<section><figure><img class="stretch-x" src="images/20-pudelko.jpg" alt="20 pudelko"><figcaption></figcaption></figure>
<details><details open=""><ul><li>We see a box and we build a mental model around that, in our mind.</li><li>Take this box<ul><li>We can lift it, shake it, open, look inside, put something inside</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Affordance</h2><div class="exampleblock"><div class="content"><blockquote class="small quote"><p>a <strong>quality</strong> of an <strong>object</strong>, which <strong>allows</strong> an individual <strong>to perform an action</strong>. For example, a knob affords twisting, and perhaps pushing, while a cord affords pulling</p></blockquote></div></div></section>
<section><figure><img class="frame" src="images/21-affordance.jpg" alt="21 affordance"><figcaption>affordance for dummies</figcaption></figure>
<details><details open=""><ul><li>This plate,this knob suggest an action<ul><li>These suggestions are called signifiers</li></ul></li></ul></details></details></section>
<section><figure><img class="stretch-x" src="images/21-design-of-everyday-things.jpg" alt="21 design of everyday things"><figcaption></figcaption></figure>
<details><details open=""><ul><li>These terms were coined by Don Norman<ul><li>In this book "the design of everyday things"</li></ul></li><li>So now, think not only about phisical objects.</li></ul></details></details></section>
<section><figure><img class="frame" src="images/22-drzwi-jedi.png" alt="22 drzwi jedi"><figcaption>Only for Jedi</figcaption></figure>
<details><details open=""><ul><li>How it works - we see it on daily basis</li></ul></details></details></section>
<section><img src="images/24-android1.png" alt="24 android1" width="300">
<details><details open=""><ul><li>Not only among phisical objects, also in IT<ul><li>See Android. It&#8217;s after all fairly easy to bash about</li></ul></li><li>See this box. It has slider, which suggests an action.<ul><li>But at the same time it&#8217;s a button. WTF??</li></ul></li></ul></details></details></section>
<section><img src="images/24-android1.png" alt="24 android1" width="300">
<img class="pull-right" src="images/24-android2.png" alt="24 android2" width="287">
<details><details open=""><ul><li>Yeah. That was funny, but how it works with code?<ul><li>Has it&#8217;s nature this sugegsts us certain actions we can or should perform.</li></ul></li></ul></details></details></section>
<section><figure><img class="frame" src="images/13-functions2.png" alt="13 functions2"><figcaption>Why? Oh Why?</figcaption></figure></section>
<section class="source"><div class="listingblock"><div class="title"><code>BadBadSql.java</code></div><pre class="highlight"><code class="java">public class Sql {

   public Sql(String table, Column[] columns)
   public String create()
   public String insert(Object[] fields)
   public String selectAll()
   public String fieldByKey(
	String keyColumn, String keyValue)
   private String ColumnList(Column[] columns)
   private String valuesList(
	Object[] fields, final Column[] columns)

}</code></pre></div>
<details><details open=""><ul><li>So what&#8217;s wrong here? Many<ul><li>Many responsibilities, too many</li><li>Open Closed principle</li><li>All our changes are pretty invasive</li></ul></li></ul></details></details></section>
<section class="source"><div class="listingblock"><pre class="highlight"><code class="java">abstract public class Sql {
   public Sql(String table, Column[] columns)
   abstract public String generate();
}

public class CreateSql extends Sql {
   public CreateSql(String table, Column[] columns)
   @Override public String generate()
}

public class SelectSql extends Sql {
   public SelectSql(String table, Column[] columns)
   @Override public String generate()
}

public class InsertSql extends Sql {
   public InsertSql(String table, Column[] columns)
   @Override public String generate()
   private String valuesList(Object[] fields, final Column[] columns)
}

public class FindKeyBySql extends Sql {
   public FindKeyBySql(String table, Column[] columns, String keyColumn, String keyValue)
   @Override public String generate()
}</code></pre></div>
<details><details open=""><p>Now take this example</p>
<ul><li>mental model: what model you build when you see this code</li><li>affordance: what actions does this code allow you to do</li><li>signifiers: or more, what it suggests</li></ul></details></details></section>
<section class="topic"><h2>Beyond design 101</h2><p class="statement">We can <strong>help</strong> ourselves<br>
and be more <strong>effective</strong></p>
<details><details open=""><p>There is more</p>
<ul><li>George Miler. The Magical Number Seven, Plus or Minus Two: Some Limits on Our Capacity for Processing Information</li><li>multistore memory model<ul><li>different level of memory, time to learn</li></ul></li><li>The Flow - when we find ourself within a highly challanging, engaging state of full immersion.</li></ul></details></details></section>
<section><figure><img class="frame" src="images/25-bruce-lee.png" alt="25 bruce lee"><figcaption></figcaption></figure>
<details><details open=""><ul><li>So when next time you find yourself with a bit a free time, about to watch "Breaking bad"</li><li>There is one thing I&#8217;d like you to remember<ul><li>Take away with you</li></ul></li></ul></details></details></section>
<section><figure><img class="frame" src="images/25-bruce-lee.png" alt="25 bruce lee"><figcaption>Has Bruce Lee known kung-fu?</figcaption></figure>
<details><details open=""><ul><li>Coding is only a part of you job</li><li>Lots of things are beyond coding<ul><li>Communication, aesthetics, desgn, psychology</li></ul></li><li>Be like Bruce Lee, who started with Kung Fu and ended with Karate<ul><li>Actually this term is coined by a friend of mine</li><li>Michał Bartyzel, who was talking yesterday about communication and conversation patterns</li></ul></li><li>Go for Eames - The architect or Normand Design of everyday things</li></ul></details></details></section>
<section class="topic ending"><h2 class="name"><a href="http://goo.gl/gXwoVQ">http://goo.gl/gXwoVQ</a></h2><p class="pull-right">Thank you!</p>
<p class="footer"><em class="icon-twitter">&#8203;</em> @kubem</p></section><script src="./dzslides/core/dzslides.js"></script><script src="./dzslides/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script></body></html>