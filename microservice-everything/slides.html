<!DOCTYPE html><html lang="en" class="aspect-16-9"><head><meta charset="UTF-8"><meta name="generator" content="Asciidoctor 0.1.4, dzslides backend"><title>Microservice everything</title><meta name="author" content="Jakub Marchwicki"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,700,200,300&amp;family=Cedarville+Cursive"><link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css"><link rel="stylesheet" href="./dzslides/themes/highlight/monokai.css"><link rel="stylesheet" href="./dzslides/themes/style/stormy-jm.css"><style>section:not(.topic) > h2 { display: none;}</style><link rel="stylesheet" href="./dzslides/core/dzslides.css"><link rel="stylesheet" href="./dzslides/themes/transition/fade.css"></head><body><section class="title"><h1>Microservice everything</h1><footer><span class="author">Jakub Marchwicki</span><span class="divider">&nbsp;&middot;&nbsp;</span><span class="author">@kubem</span></footer></section><section class="topic"><h2>Things to cover</h2><ul class="incremental"><li>What is microservice?</li><li>Why bother?</li><li>Why I cared?</li><li>How I cared?</li><li>Was it worth doing?</li></ul>
<details><details open=""><ul><li>Who am I?</li><li>YDP - Education Publisher</li><li>Most of examples are from YDP experience<ul><li>But not all</li></ul></li><li>I wasn&#8217;t actually implementing many of those, unfortunately</li><li>I don&#8217;t claim this ideas perfect. It was good enough in context<ul><li>I&#8217;m happy to discuss it and ritualy dissent them</li><li>I&#8217;m not my ideas</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Agenda</h2><ul><li><strong>What is microservice?</strong></li><li>Why bother?</li><li>Why I cared?</li><li>How I cared?</li><li>Was it worth doing?</li></ul></section>
<section><p class="statement">Microservices are the<br>
<span class="pull-right"><strong>new black</strong></span></p>
<details><details open=""><p><em>First of all!</em></p></details></details></section>
<section><p class="middle">Micro Service is an <strong>architectural concept</strong> that aims to decouple a solution by decomposing functionality into discrete services<br>
<span class="detail">with communication over lightweight mechanisms, often an HTTP API</span></p>
<details><details open=""><ul><li>this means everything</li><li>maybe a diagram will go better</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">


       +----------------------------------+
       |                                  |                        ++
       |  +--------------------+  +----+  |               +---+    ++
       |  |                    |  |    |  |               |   |
       |  |                    |  |    |  |               |   |  +--------+
       |  +--------------------+  |    |  |               +---+  |        |
       |                          |    |  |                      |        |
       |  +-----+  +-----+ +---+  |    |  |            +-+       |        |
       |  |     |  |     | |   |  |    |  |            +-+  +-+  +--------+
       |  |     |  |     | |   |  |    |  |                 +-+
       |  +-----+  +-----+ +---+  |    |  |         +----+           +--+
       |                          |    |  |         |    |  +----+   |  |
       |  +--------------------+  |    |  |         +----+  |    |   +--+  +--+
       |  |                    |  |    |  |                 |    |         |  |
       |  |                    |  |    |  |            +-+  +----+         +--+
       |  +--------------------+  +----+  |            +-+          +---+
       |                                  |                         |   |
       +----------------------------------+                         +---+


              Monolythic / layered                           Microservice
</pre></div>
<details><details open=""><ul><li>We are talking about scattered services, loosely coupled with HTTP calls</li></ul></details></details></section>
<section class="topic"><h2>My personal definition</h2><ul class="incremental"><li>A small problem domain <span class="detail">Bounded Content might be the thing</span></li><li>Built and deployed by itself <span class="detail">standalone and isolated</span></li><li>Runs in its own process</li><li>Integrates via well-known interfaces<br>
<span class="detail">While HTTP isn’t always the best answer, it’s a damn fine first guess</span></li><li>Owns its own data storage <span class="detail">ultimate goal</span></li></ul>
<details><details open=""><ul><li>Obviously much depend on context<ul><li>Own data might not always be the case (with legacy systems)</li></ul></li><li>Lot has been said about decoupled services during this conference<ul><li>Reactive, vert.x, dropwizard, etc</li><li>I think tthat gives you a certain feeling what&#8217;s the buzz</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Agenda</h2><ul><li>What is microservice?</li><li><strong>Why bother?</strong></li><li>Why I cared?</li><li>How I cared?</li><li>Was it worth doing?</li></ul></section>
<section class="topic"><h2>Modularity at all levels</h2><ul class="incremental"><li>Function</li><li>Object</li><li>Class</li><li>Actor</li><li>Stream transform</li><li><strong>Microservice</strong></li></ul>
<details><details open=""><ul><li>Pointed out by Martin Odersky at GOTOchicago</li><li>Single Responsibility Principle  taken to an extreme</li></ul></details></details></section>
<section><p class="statement"><strong>SOA</strong> done right?</p>
<details><details open=""><ul><li>Is it kind of SOA done right?</li><li>15 years since the concept of Service Oriented Architecture</li><li>significant changes in the way we think about architecture<ul><li>ESB is not always SOA - when the sevices are deeply coupled in a non visible way</li></ul></li></ul></details></details></section>
<section><p class="statement"><strong>Aggregates</strong> and bounded <strong>Contexts</strong> give us a great way of breaking up a domain</p>
<details><details open=""><ul><li>Eric Evan’s - Domain Driven Design</li><li>things evangelised by Slawek Sobotka, Piotr Wyczesany - at least during last two days in here</li><li>Service interface between each context</li><li>ensure a service is responsible for an aggregate root and all of it’s child domain objects</li></ul></details></details></section>
<section><p class="statement"><strong>REST</strong> style interfaces and <strong>JSON</strong> as a data interchange</p></section>
<section><p class="statement">Build <strong>web services</strong><br>
<span class="pull-right">easier than ever</span>
with <strong>micro frameworks</strong></p>
<details><details open=""><ul><li>In JAVA world count:<ul><li>Simple embedded Jetty,</li><li>Spark, Webbit, Dropwizard</li><li>Vert.x, Spring Boot</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Agenda</h2><ul><li>What is microservice?</li><li>Why bother?</li><li><strong>Why I cared?</strong></li><li>How I cared?</li><li>Was it worth doing?</li></ul></section>
<section class="topic"><h2>Some problems with monolythic architecture</h2><ul class="middle incremental"><li>Even when layered, hidden coupling</li><li>Single runtime, allows in memory calls</li><li>FUD: if it works don&#8217;t fix it <span class="detail">don&#8217;t touch it</span></li><li>Good diagrams not always make it to good code</li></ul>
<details><details open=""><ul><li>I know this might not always be true<ul><li>Though it usually happens</li></ul></li></ul></details></details></section>
<section class="topic"><h2>The beshitted legacy system</h2><ul class="middle incremental"><li>don&#8217;t touch it approach <span class="detail">as if you meant it</span></li><li>write a small service that does what&#8217;s needed<br>
<span class="detail">instead of diving into legacy system</span></li><li>an architecture evolution</li></ul>
<details><details open=""><ul><li>Working with legacy code is risky at best</li><li>We all know it</li></ul></details></details></section>
<section><blockquote class="small quote"><p>Problems of developing software derive from essential complexity and its nonlinear increases with size; leading to difficulty of communication among team members, cost overruns, schedule delays.</p><em>The Mythical Man-Month</em><br><cite>Fred Brooks</cite></blockquote>
<details><details open=""><ul><li>If your program get longer, it take more time to develop</li><li>I&#8217;m not talking about the <strong>product flaws</strong> it can cause. Leave it out of scope for the time being</li><li>You think you need more people<ul><li>But you can&#8217;t get around by hiring more people</li><li>Because beyond a certain size new hires are actually a net lose</li></ul></li><li>Keeping things micro is a way for me to limit the size</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">        Legacy system

+------------------------------+
|                              |
|   +----------------------+   |
|   |                      |   |
|   |                      | &lt;-------------------------------------------------------+
|   |                      |   |
|   +----------------------+   |
|         +       +-------+    |
|         |       |       |    |
|         |       |       |    |
|         |       +-------+    |
|         |       +-------+    |
|         |       |       |    |
|         |       |       |    |
|         |       +-------+    |
|         |                    |
+------------------------------++
          |
          v
+------------------------------+
|                              |
|                              |
|                              |
+------------------------------+

            Database</pre></div></section>
<section class="terminal"><div class="literalblock"><pre class="literal">        Legacy system                                               Proxy

+------------------------------+                                   +------+
|                              |                                   |      |
|   +----------------------+   |                                   |      |
|   |                      |   |                                   |      |
|   |                      | &lt;-------------------------------------------------------+
|   |                      |   |                                   |      |
|   +----------------------+   |                                   |      |
|         +       +-------+    |                                   |      |
|         |       |       |    |                                   |      |
|         |       |       |    |                                   |      |
|         |       +-------+    |                                   |      |
|         |                    |              +-------+            |      |
|         |                    |              |       |            |      |
|         |                    |              |       | &lt;----------------------------+
|         |                    |              |       |            |      |
|         |                    |              +-------+            |      |
+------------------------------+                  +                +------+
          |                                       |
          v                                       |
+------------------------------+                  |
|                              |                  |
|                              | &lt;----------------+
|                              |
+------------------------------+

            Database</pre></div></section>
<section class="topic"><h2>Agenda</h2><ul><li>What is microservice?</li><li>Why bother?</li><li>Why I cared?</li><li><strong>How I cared?</strong></li><li>Was it worth doing?</li></ul></section>
<section class="topic recap"><h2>Exibit A</h2><p class="statement pull-right">a mysterious scoring engine <span class="detail">-- 2009</span></p></section>
<section class="terminal"><div class="literalblock"><pre class="literal">
           +-----------------------------------------------+
           |                                               |
           |  +-----------------------------------+        |
           |  |                                   |        |
           |  |          Boundary: SOAP           |        |
           |  |                                   |        |
           |  +-----------------------------------+        |
           |  |                                   |        |
           |  |               EJB                 |        |
           |  |                                   |        |
           |  +-----------------------------------+        |
           |                                               |
           |                                               |
           |  +--------+   +-------+   +----------+        |
           |  |        |   |       |   |          |        |
           |  | JAX-WS |   |  JPA  |   |  DROOLS  |        |
           |  |        |   |       |   |          |        |
           |  +--------+   +-------+   +----------+        |
           |                                               |
           |                                               |
           |                                 JBoss 4.2.x   |
           |                                               |
           +-----------------------------------------------+
</pre></div></section>
<section class="topic"><h2>Business driver</h2><p class="middle">Webservices are really hard do sale.<br>
<span class="pull-right"><strong>Please visualize it!</strong></span></p></section>
<section class="terminal"><div class="literalblock"><pre class="literal">
           +-----------------------------------------------+
           |                                               |
           |  +--------------------+--------------+        |
           |  |                    |              |        |
           |  |   Boundary: SOAP   |     JSF      |        |
           |  |                    |              |        |
           |  +--------------------+--------------+        |
           |  |                                   |        |
           |  |               EJB                 |        |
           |  |                                   |        |
           |  +-----------------------------------+        |
           |                                               |
           |                                               |
           |  +--------+   +-------+   +----------+        |
           |  |        |   |       |   |          |        |
           |  | JAX-WS |   |  JPA  |   |  DROOLS  |        |
           |  |        |   |       |   |          |        |
           |  +--------+   +-------+   +----------+        |
           |                                               |
           |                                               |
           |                                 JBoss 4.2.x   |
           |                                               |
           +-----------------------------------------------+
</pre></div>
<details><details open=""><ul><li>That was the initial approach- which I didn&#8217;t like</li><li>I personally dislike JSF</li><li>After further discussion with business - the need was for mobile UI<ul><li>Primefaces didn&#8217;t make much sense in such case (remember 2009)</li></ul></li><li>The app took ages to deploy so the development was hell<ul><li>25 minuts with full caching</li><li>I&#8217;m blaming the workstations - but still had to find another way</li></ul></li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">    +-----------------------------------------------+
    |                                               |
    |  +-----------------+-----------------+        |         +---------------+
    |  |                 |                 |        |         |               |
    |  |      SOAP       |  REST endpoint  | &lt;--------------+ |   Dedicated   |
    |  |                 |                 |        |         |    mobile     |
    |  +-----------------+-----------------+        |         |  Single Page  |
    |  |                                   |        |         |  Application  |
    |  |               EJB                 |        |         |               |
    |  |                                   |        |         |               |
    |  +-----------------------------------+        |         +---------------+
    |                                               |
    |                                               |
    |  +--------+   +-------+   +----------+        |
    |  |        |   |       |   |          |        |
    |  | JAX+WS |   |  JPA  |   |  DROOLS  |        |
    |  |        |   |       |   |          |        |
    |  +--------+   +-------+   +----------+        |
    |                                               |
    |                                               |
    |                                 JBoss 4.2.x   |
    |                                               |
    +-----------------------------------------------+
</pre></div>
<details><details open=""><ul><li>That was simple - write and endpoint, deploy and never come back</li><li>Develop the application externally, independently</li><li>My UI was one service, everything else was another</li><li>That wasn&#8217;t really a microservice - but it made me think&#8230;</li></ul></details></details></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">Separate things that change with a<br>
<strong>different pace</strong></p>
<details><details open=""><ul><li>That was my first outcome</li></ul></details></details></section>
<section class="topic recap"><h2>Exibit B</h2><p class="statement pull-right">sizeable <span class="detail">2007</span> image repository <span class="detail">-- 2012</span></p>
<details><details open=""><ul><li>I work in education business with traditional publishers</li><li>our big data are images and movies</li><li>4TB of data in files &amp; 8GB of data in database</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">+--------------------------------------+
|                                      |
|         web / controllers            |
|                                      |
+-----------+--------------------------+
            |
            | (1)
            |
            v

+-------------------------------------+
|                                     |
|         application logic           |
|                                     |
+--+-------------------------+--------+
   |                         |
   | (2)   ^                 | (4)
   |       |                 |
   v       | (3)             v
           |
+----------+--+    +------------------+
|             |    |                  |
|    MySQL    |    |    filesystem    |
|             |    |                  |
+-------------+    +------------------+</pre></div>
<details><details open=""><ul><li>A very simple flow. I&#8217;d say simplistic</li><li>That&#8217;s not much unless:<ul><li>The DB is denormalized MySQL</li><li>Files are randomly spread throughout the drive</li><li>Badly designed SQL queries</li><li>Your app is a PHP application</li></ul></li><li>That was a Structs architecture written in PHP.<ul><li>That didnt stand a test of time</li></ul></li><li>Initially no caching. That database temp tables</li><li><strong>And now they want you to make search faster</strong><ul><li>Where you&#8217;d rather throw this whole shite away</li></ul></li></ul></details></details></section>
<section class="topic"><h2>Business driver</h2><p class="middle">Search is extremelly slow and<br>
<strong>makes us unproductive</strong></p></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">The is no such thing as legacy<br>
If noone use it - abandon it<br>
If you can&#8217;t - it&#8217;s business as usual<br>
<span class="pull-right"><strong>cope with it!</strong></span></p>
<details><details open=""><ul><li>My second outcome.</li><li>If there was no way to fight them - join them</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">        Proxy

       +-----+                                 +------------------+
       |     |         /*                      |                  |
+----------------+--------------------------&gt;  |                  |
       |     |   |                             |  The Old stuff   |
       |     |   |                             |                  +--------+
       |     |   |                             |                  |        |
       |     |   |                             +------------------+        |
       |     |   |                                                         |
       |     |   |                                                         |  Elastic Search
       |     |   |                                                         |  rivers service
       |     |   |                                                         |
       |     |   |                                                         |
       |     |   |                             +------------------+        |
       |     |   |     /search                 |                  |        |
       |     |   +--------------------------&gt;  |                  | &lt;------+
       |     |                                 |  Elastic Search  |
       |     |                                 |       index      |
       |     |                                 |                  |
       +-----+                                 +------------------+</pre></div>
<details><details open=""><ul><li>That was the idea.</li><li>The design looked solid</li><li>The project never happened - due to various things</li><li>You can delegate functionality in that way in various projects<ul><li>Semantic search for a legacy portal</li><li>Advanced browsing for asset store</li><li>One-off shot functionalities</li></ul></li><li>You build it, you cash it, you close it</li></ul></details></details></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">If you get the mindset<br>
<strong>everything is a</strong><br>
<span class="pull-right"><strong>service</strong></span><br>
just not always very micro</p>
<details><details open=""><ul><li>That brings me to another example</li><li>Depending on your definition, what is microservice<ul><li>How micro should be the service</li><li>Or size doesnt matter - but responsibility</li></ul></li><li>If you bound the context, aggregate - is it enough for microservice</li></ul></details></details></section>
<section class="topic recap"><h2>Exibit C</h2><p class="statement pull-right">yet another big ball of mud <span class="detail">-- 2013</span></p></section>
<section class="topic"><h2>A long time ago in a galaxy far, far away</h2><p>There was this portal with</p>
<ul class="incremental"><li>user management and roles <span class="detail">and identity provisioning</span></li><li>ecommerce <span class="detail">implementing multiple business models</span></li><li>assets repository <span class="detail">with search</span></li><li>lessons presentation <span class="detail">for teacher</span></li><li>students assignments</li></ul>
<details><details open=""><p>To bring you some context</p>
<ul><li>A portal where you could buy learing material, present it as school and push it to students to do a home assignment</li><li>Written very very badly, <strong>convoluted</strong> way</li><li><strong>FAT Controller</strong> was the <em>most widespread</em> design pattern</li><li>Just after <strong>SQL everywhere</strong> from views, through controllers, to models</li><li>Problem was - in some cases it just worked.<ul><li>Maybe it also made money</li></ul></li><li>Implementing a new look and feel was a 20menday project</li></ul></details></details></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">People are reluctant to <strong>throw away</strong> a multimillion <strong>investment</strong></p>
<details><details open=""><ul><li>Multimillion - cause that would be capex for many years</li><li>Even though maintenance is extremelly expensive</li><li>It&#8217;s hard to discuss costs unless you measure.<ul><li>Measuring takes time and you new to polish the turd in the meantime</li></ul></li><li>It&#8217;s very often still cheaper than building from scratch</li><li>And who said a green field wouldn&#8217;t create same big ball of mud<ul><li>But is a more hipster language</li></ul></li></ul></details></details></section>
<section class="topic"><h2>But we are runnning business here</h2><div class="exampleblock middle"><div class="content"><ul><li>We many new requirements</li><li>But changes take ages <span class="detail">and require indepth knowledge</span></li><li>The old system needs to stay alive</li><li>Align with existing architecture? <span class="detail">no thanks</span></li></ul></div></div>
<details><details open=""><ul><li>A <strong>keep it working</strong> pattern from <strong>big ball of mud</strong></li><li>What is more. It&#8217;s not about throw away and redo<ul><li>Evolution is a must</li></ul></li><li>And in many cases we just don&#8217;t know the implications</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">+-----------------------------------------------------------------+
|                                                                 |
|  new user interface                                             |
|                                                                 |
+-----------------------------------------------------------------+

+-----------------------------------------------------------------+
|                                                                 |
|  some application logic (Delegation)                            |
|                                                                 |           
+-----------------------------------------------------------------+

+----------------+ +----------+         +-----------+   +---------+
|                | |          |         |           |   |         |
|   REST wrapper | | Another  |         | Yet       |   |         |
|                | | wrapper  |         | another   |   |         |
| +-----------+  | |          |         |           |   |  new    |
| |           |  | | +----+   |   ...   | +------+  |   |  sexy   |
| | old stuff |  | | |    |   |         | |      |  |   |  stuff  |
| |           |  | | |    |   |         | |      |  |   |         |
| +-----------+  | | +----+   |         | +------+  |   |         |
|                | |          |         |           |   |         |
+----------------+ +----------+         +-----------+   +---------+</pre></div>
<details><details open=""><ul><li>What if I take whole application, as-is. Wrap it with a service<ul><li>Interface segregation FTW!</li></ul></li><li>And use it as a not-so-microservice</li><li>We have new responsive UI - big requirement</li><li>Thin controllers that delegate stuff further<ul><li>Delegation is afterall underneath all software development</li></ul></li><li>Initially each "old stuff" was the complete application</li></ul></details></details></section>
<section><figure><img class="frame" src="images/nonsense.jpg" alt="nonsense"><figcaption>SRSLY??</figcaption></figure></section>
<section class="topic"><h2>Run this through me again</h2><ul class="middle incremental"><li>Take the whole application <span class="detail">for each functionality</span></li><li>Write a wrapper for each functionality <span class="detail">extreme SRP</span></li><li>Stabilize the contract <span class="detail">serve exactly what&#8217;s needed</span></li><li>Automate contract tests</li><li>Scrap what&#8217;s not required <span class="detail">from an old stuff</span></li></ul></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">Refactor <strong>architecture</strong> with same mindset as <strong>code</strong></p>
<details><details open=""><ul><li>In code we Encapsulate Field. Encapsulate functionality with HTTP</li><li>Extract interface. In fact extract webservice contract</li><li>Trust your test suite will catch the errors</li><li>We are still working with this. <strong>work</strong> or rather refactor <strong>in progress</strong></li></ul></details></details></section>
<section class="topic recap"><h2>Exibit D</h2><p class="statement pull-right">ActiveX <span class="detail">from 2002</span> as a Service <span class="detail">-- 2014</span></p>
<details><details open=""><ul><li>This is a real core. For the true ninjas</li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">
     ++------------++
    +-|            |-+
+-+----------------+-+-------------------------------------------------------------+-----+
| &lt;-+ | http://some.important.url.com                                              |     |
|     +----------------------------------------------------------------------------+     |
|                                                                                        |
|                                                                                        |
|      +----------------------------+            +-------------------------+             |
|      |                            |            |                         |             |
|      |         UI Component       |            | +--------------------+  |             |
|      |    (Flash / Java Applet)   |            | |                    |  |             |
|      |                            |            | | Active X component |  |             |
|      |                            +---------&gt;  | |                    |  |             |
|      |                            |            | +--------------------+  |             |
|      |    &gt; []    record sound    |  &lt;---------+                         |             |
|      |                            |            |     JavaScript bindings |             |
|      |                            | JavaScript |                         |             |
|      +----------------------------+    magic   +-------------------------+             |
|                                                                                        |
|                                                                                        |
|                                                                                        |
|                                                                                        |
|                                                                                        |
|                                                                                        |
|                                                                                        |
+----------------------------------------------------------------------------------------+</pre></div>
<details><details open=""><ul><li>Imagine situation like this</li><li>Some UI components working together with ActiveX things</li><li>Installed on the browser side</li><li>ActiveX was a C-plus-plus wrapper around C-plus-plus library for sound processing</li><li>Worked fine on Windows / until IE8 - and than stopped</li><li>Few applications were quite heavily dependent on (on the ActiveX API)</li></ul></details></details></section>
<section class="topic"><h2>Business driver</h2><p class="middle">Go beyond Internet Explorer 8</p></section>
<section class="topic"><h2>What if&#8217;s?</h2><ul class="incremental"><li>the same library would work as a service</li><li>it was a REST web service</li><li>there was no C++ web server</li><li>there was no way anyone would write C++</li><li>we used more developer friendly language</li></ul></section>
<section class="terminal"><div class="literalblock"><pre class="literal">
     ++------------++
    +-|            |-+
+-+----------------+-+-------------------------------------+--+        +-------------------+
| &lt;-+ | http://some.important.url.com                      |  |        |                   |
|     +----------------------------------------------------+  |        |  +-------------+  |
|                                                             |        |  |             |  |
|    +-----------------------+            +------------+      |        |  | ActiveX     |  |
|    |                       |            |            |      |        |  | components  |  |
|    |      UI Component     |            | JavaScript |      |        |  |             |  |
|    | (Flash / Ja^a Applet) |            | components |      |        |  +-------------+  |
|    |                       |            |            |      |  http  |                   |
|    |                       +---------&gt;  |            +-------------&gt; |  REST webservice  |
|    |                       |            |            |      |        |                   |
|    | ^ []    record sound  |  &lt;---------+            |      |        +-------------------+
|    |                       |            |            |      |
|    |                       | JavaScript |            |      |
|    +-----------------------+    magic   +------------+      |
|                                                             |
|                                                             |
|                                                             |
|                                                             |
|                                                             |
+-------------------------------------------------------------+</pre></div>
<details><details open=""><ul><li>Externalized sound component</li><li>Wrapped in Python win32com (as that was purely windows library)<ul><li>We were considering node.js native bindings, but went for python</li></ul></li><li>Wrap the C++ library and expose with REST webservice<ul><li>Tornado was the choice</li><li>It&#8217;s nonblocking I/O was somehow similar to node&#8217;s idea</li></ul></li><li>Surprise surprise - it worked</li></ul></details></details></section>
<section class="topic recap red-border"><h2>Note to self</h2><p class="statement">Damn! That was just <strong>crazy</strong> but it <strong>worked</strong></p></section>
<section class="topic"><h2>Agenda</h2><ul><li>What is microservice?</li><li>Why bother?</li><li>Why I cared?</li><li>How I cared?</li><li><strong>Was it worth doing?</strong></li></ul></section>
<section><p class="statement">Still <strong>don&#8217;t</strong> know</p>
<details><details open=""><ul><li>it&#8217;s hard to say. architecture decisions does not pay off quickly (usually)</li><li>in some causes that was the only way to go<ul><li>The approach (you may argue it was just SOA) help us solve certain problems</li></ul></li><li>We haven&#8217;t really touched on operations, deploying small thingies<ul><li>In many cases it&#8217;s a component cased architecture</li></ul></li></ul></details></details></section>
<section class="terminal"><div class="literalblock"><pre class="literal">

       +----------------------------------+
       |                                  |                        ++
       |  +--------------------+  +----+  |               +---+    ++
       |  |                    |  |    |  |               |   |
       |  |                    |  |    |  |               |   |  +--------+
       |  +--------------------+  |    |  |               +---+  |        |
       |                          |    |  |                      |        |
       |  +-----+  +-----+ +---+  |    |  |            +-+       |        |
       |  |     |  |     | |   |  |    |  |            +-+  +-+  +--------+
       |  |     |  |     | |   |  |    |  |                 +-+
       |  +-----+  +-----+ +---+  |    |  |         +----+           +--+
       |                          |    |  |         |    |  +----+   |  |
       |  +--------------------+  |    |  |         +----+  |    |   +--+  +--+
       |  |                    |  |    |  |                 |    |         |  |
       |  |                    |  |    |  |            +-+  +----+         +--+
       |  +--------------------+  +----+  |            +-+          +---+
       |                                  |                         |   |
       |                                  |                         +---+
       +----------------------------------+


              Monolythic / layered                           Microservice
</pre></div></section>
<section class="terminal"><div class="literalblock"><pre class="literal">

       +----------------------------------+      +--------------------------------+
       |                                  |      |                 ++             |
       |  +--------------------+  +----+  |      |        +---+    ++             |
       |  |                    |  |    |  |      |        |   |                   |
       |  |                    |  |    |  |      |        |   |  +--------+       |
       |  +--------------------+  |    |  |      |        +---+  |        |       |
       |                          |    |  |      |               |        |       |
       |  +-----+  +-----+ +---+  |    |  |      |     +-+       |        |       |
       |  |     |  |     | |   |  |    |  |      |     +-+  +-+  +--------+       |
       |  |     |  |     | |   |  |    |  |      |          +-+                   |
       |  +-----+  +-----+ +---+  |    |  |      |  +----+           +--+         |
       |                          |    |  |      |  |    |  +----+   |  |         |
       |  +--------------------+  |    |  |      |  +----+  |    |   +--+  +--+   |
       |  |                    |  |    |  |      |          |    |         |  |   |
       |  |                    |  |    |  |      |     +-+  +----+         +--+   |
       |  +--------------------+  +----+  |      |     +-+          +---+         |
       |                                  |      |                  |   |         |
       |                                  |      |                  +---+         |
       +----------------------------------+      +--------------------------------+


              Monolythic / layered                      Something in between
                                                           (components ?)
</pre></div>
<details><details open=""><ul><li>easier to handle by operations</li><li>easier to spoil, couple elements through internal calls<ul><li>HTTP is pretty ruthless - you can&#8217;t bypass</li><li>You can call different component within</li></ul></li></ul></details></details></section>
<section><blockquote class="small quote"><p>We define <strong>libraries</strong> as components that are linked into a program and called using in-memory calls, while <strong>services</strong> are out-of-process components who communicate with remote procedure calls</p><br><cite>James Lewis</cite></blockquote>
<details><details open=""><ul><li>So this might be a problem<ul><li>Awareness, code reviews and inspections are important</li></ul></li></ul></details></details></section>
<section><blockquote class="small quote"><p>Microservice applications put a lot of emphasis on <strong>real-time monitoring</strong> of the application, checking both architectural elements and business relevant metrics</p><br><cite>James Lewis</cite></blockquote>
<details><details open=""><ul><li>Monitoring beyond Naigos<ul><li>We are still not very good in it, still learing</li></ul></li><li>Business metrics are very hard to grasp with <strong>business at the other side of the wall</strong></li></ul></details></details></section>
<section><p class="statement">But we are still <strong>trying</strong></p></section>
<section class="topic ending"><h2 class="name">Questions?</h2><p class="footer"><em class="icon-twitter">&#8203;</em> @kubem</p></section>
<section class="topic"><h2>Useful links and some notes</h2><div class="listingblock middle"><pre>http://speakerdeck.com/kubamarchwicki/microservice-everything

Follow me on twitter:
  @kubem

Further reading material on microservices
  http://readlists.com/14bb4629/

Sam Newman - Building Microservices
  http://shop.oreilly.com/product/0636920033158.do

This presentation was made with Asciidoctor
  http://asciidoctor.org/
  https://github.com/kubamarchwicki/presentations/

Tools when preparing this slides
  http://paulrouget.com/dzslides/
  http://asciiflow.com/</pre></div></section><script src="./dzslides/core/dzslides.js"></script><script src="./dzslides/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script></body></html>